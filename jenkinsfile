            pipeline {
                 agent any
                  stages{
                      stage ("github checkout"){
                  steps{
                          checkout scmGit(branches: [[name: '*/master']], extensions: [], userRemoteConfigs: [[credentialsId: '123456', url: 'https://github.com/spssuryawanshi/terraform.git']])
                    }
                   }

                              stage ("Terraform init") {
                                 steps {
                                      sh 'terraform init'     

                                   }      
                             }    
        
                              stage ("Terraform plan") {
                               steps {
                                 sh 'terraform plan'     

                              }
                            }    

                           stage ("Terraform Apply") {
                                 steps  {
                               sh ' terraform apply --Auto-approve'     

                           }

                    }    

              }

        }